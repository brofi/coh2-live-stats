version = 1
disable_existing_loggers = false

[formatters.simple]
format = '%s(levelname)s: %(message)s'

[formatters.detailed]
'()' = 'src.coh2_live_stats.util.CustomFormatter'
format = '[%(levelname)s|%(module)s|L%(lineno)d] %(asctime)s: %(message)s'
datefmt = '%Y-%m-%dT%H:%M:%S.%f%z'

[handlers.stderr]
class = 'logging.StreamHandler'
level = 'WARNING'
formatter = 'simple'
stream = 'ext://sys.stderr'

[handlers.file]
class = 'logging.handlers.RotatingFileHandler'
level = 'DEBUG'
formatter = 'detailed'
filename = 'coh2livestats.log'
maxBytes = 500000
backupCount = 3

[handlers.queue_handler]
class = 'logging.handlers.QueueHandler'
handlers = ['stderr', 'file']
respect_handler_level = true

[loggers.root]
level = 'DEBUG'
handlers = ['queue_handler']
